import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { ariaDescribedByIds, enumOptionsDeselectValue, enumOptionsIsSelected, enumOptionsSelectValue, enumOptionsValueForIndex, optionId, } from '@rjsf/utils';
import { Checkbox } from '../components/ui/checkbox.js';
import { Label } from '../components/ui/label.js';
import { cn } from '../lib/utils.js';
/** The `CheckboxesWidget` is a widget for rendering checkbox groups.
 *  It is typically used to represent an array of enums.
 *
 * @param props - The `WidgetProps` for this component
 */
export default function CheckboxesWidget({ id, htmlName, disabled, options, value, autofocus, readonly, required, onChange, onBlur, onFocus, className, }) {
    const { enumOptions, enumDisabled, inline, emptyValue } = options;
    const checkboxesValues = Array.isArray(value) ? value : [value];
    const _onBlur = ({ target }) => onBlur(id, enumOptionsValueForIndex(target && target.value, enumOptions, emptyValue));
    const _onFocus = ({ target }) => onFocus(id, enumOptionsValueForIndex(target && target.value, enumOptions, emptyValue));
    return (_jsx("div", { className: cn({ 'flex flex-col gap-2': !inline, 'flex flex-row gap-4 flex-wrap': inline }), children: Array.isArray(enumOptions) &&
            enumOptions.map((option, index) => {
                const checked = enumOptionsIsSelected(option.value, checkboxesValues);
                const itemDisabled = Array.isArray(enumDisabled) && enumDisabled.indexOf(option.value) !== -1;
                const indexOptionId = optionId(id, index);
                return (_jsxs("div", { className: 'flex items-center gap-2', children: [_jsx(Checkbox, { id: indexOptionId, name: htmlName || id, required: required, disabled: disabled || itemDisabled || readonly, onCheckedChange: (state) => {
                                if (state) {
                                    onChange(enumOptionsSelectValue(index, checkboxesValues, enumOptions));
                                }
                                else {
                                    onChange(enumOptionsDeselectValue(index, checkboxesValues, enumOptions));
                                }
                            }, className: className, checked: checked, autoFocus: autofocus && index === 0, onBlur: _onBlur, onFocus: _onFocus, "aria-describedby": ariaDescribedByIds(id) }), _jsx(Label, { className: 'leading-tight', htmlFor: optionId(id, index), children: option.label })] }, indexOptionId));
            }) }));
}
//# sourceMappingURL=CheckboxesWidget.js.map