import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from "react/jsx-runtime";
import { ADDITIONAL_PROPERTY_FLAG, buttonId, TranslatableString, } from '@rjsf/utils';
import { Input } from '../components/ui/input.js';
import { Separator } from '../components/ui/separator.js';
/** The `WrapIfAdditional` component is used by the `FieldTemplate` to rename, or remove properties that are
 * part of an `additionalProperties` part of a schema.
 *
 * @param props - The `WrapIfAdditionalProps` for this component
 */
export default function WrapIfAdditionalTemplate({ classNames, style, children, disabled, id, label, displayLabel, onRemoveProperty, onKeyRenameBlur, rawDescription, readonly, required, schema, uiSchema, registry, }) {
    const { templates, translateString } = registry;
    // Button templates are not overridden in the uiSchema
    const { RemoveButton } = templates.ButtonTemplates;
    const keyLabel = translateString(TranslatableString.KeyLabel, [label]);
    const additional = ADDITIONAL_PROPERTY_FLAG in schema;
    if (!additional) {
        return (_jsx("div", { className: classNames, style: style, children: children }));
    }
    const marginDesc = rawDescription ? -28 : 0;
    const margin = displayLabel ? 22 + marginDesc : 0;
    const keyId = `${id}-key`;
    return (_jsxs(_Fragment, { children: [_jsxs("div", { className: `grid grid-cols-12 col-span-12 items-center gap-2 ${classNames}`, style: style, children: [_jsx("div", { className: 'grid gap-2 col-span-5', children: _jsxs("div", { className: 'flex flex-col gap-2', children: [displayLabel && (_jsx("label", { htmlFor: keyId, className: 'text-sm font-medium text-muted-foreground leading-none', children: keyLabel })), _jsx("div", { className: 'pl-0.5', children: _jsx(Input, { required: required, defaultValue: label, disabled: disabled || readonly, id: keyId, name: keyId, onBlur: !readonly ? onKeyRenameBlur : undefined, type: 'text', className: 'w-full border shadow-sm' }) }), !!rawDescription && (_jsx("span", { className: 'text-xs font-medium text-muted-foreground', children: _jsx("div", { className: 'text-sm text-muted-foreground', children: "\u00A0" }) }))] }) }), _jsx("div", { className: 'grid gap-2 col-span-6 pr-0.5', children: children }), _jsx("div", { className: 'grid gap-2 col-span-1', style: { marginTop: `${margin}px` }, children: _jsx(RemoveButton, { id: buttonId(id, 'remove'), iconType: 'block', className: 'rjsf-object-property-remove w-full', disabled: disabled || readonly, onClick: onRemoveProperty, uiSchema: uiSchema, registry: registry }) })] }), _jsx(Separator, { dir: 'horizontal', className: 'mt-2' })] }));
}
//# sourceMappingURL=WrapIfAdditionalTemplate.js.map