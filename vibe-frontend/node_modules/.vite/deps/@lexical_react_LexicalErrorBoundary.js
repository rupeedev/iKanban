import {
  require_jsx_runtime
} from "./chunk-7BUGFXDR.js";
import {
  require_react
} from "./chunk-CMM6OKGN.js";
import {
  __toESM
} from "./chunk-OL46QLBJ.js";

// node_modules/react-error-boundary/dist/react-error-boundary.js
var import_react = __toESM(require_react());
var h = (0, import_react.createContext)(null);
var c = {
  didCatch: false,
  error: null
};
var m = class extends import_react.Component {
  constructor(t) {
    super(t), this.resetErrorBoundary = this.resetErrorBoundary.bind(this), this.state = c;
  }
  static getDerivedStateFromError(t) {
    return { didCatch: true, error: t };
  }
  resetErrorBoundary(...t) {
    var _a, _b;
    const { error: e } = this.state;
    e !== null && ((_b = (_a = this.props).onReset) == null ? void 0 : _b.call(_a, {
      args: t,
      reason: "imperative-api"
    }), this.setState(c));
  }
  componentDidCatch(t, e) {
    var _a, _b;
    (_b = (_a = this.props).onError) == null ? void 0 : _b.call(_a, t, e);
  }
  componentDidUpdate(t, e) {
    var _a, _b;
    const { didCatch: o } = this.state, { resetKeys: n } = this.props;
    o && e.error !== null && C(t.resetKeys, n) && ((_b = (_a = this.props).onReset) == null ? void 0 : _b.call(_a, {
      next: n,
      prev: t.resetKeys,
      reason: "keys"
    }), this.setState(c));
  }
  render() {
    const { children: t, fallbackRender: e, FallbackComponent: o, fallback: n } = this.props, { didCatch: s, error: a } = this.state;
    let i = t;
    if (s) {
      const u = {
        error: a,
        resetErrorBoundary: this.resetErrorBoundary
      };
      if (typeof e == "function")
        i = e(u);
      else if (o)
        i = (0, import_react.createElement)(o, u);
      else if (n !== void 0)
        i = n;
      else
        throw a;
    }
    return (0, import_react.createElement)(
      h.Provider,
      {
        value: {
          didCatch: s,
          error: a,
          resetErrorBoundary: this.resetErrorBoundary
        }
      },
      i
    );
  }
};
function C(r = [], t = []) {
  return r.length !== t.length || r.some((e, o) => !Object.is(e, t[o]));
}

// node_modules/@lexical/react/LexicalErrorBoundary.dev.mjs
var import_jsx_runtime = __toESM(require_jsx_runtime(), 1);
function LexicalErrorBoundary({
  children,
  onError
}) {
  return (0, import_jsx_runtime.jsx)(m, {
    fallback: (0, import_jsx_runtime.jsx)("div", {
      style: {
        border: "1px solid #f00",
        color: "#f00",
        padding: "8px"
      },
      children: "An error was thrown."
    }),
    onError,
    children
  });
}
export {
  LexicalErrorBoundary
};
//# sourceMappingURL=@lexical_react_LexicalErrorBoundary.js.map
